"use strict";angular.module("techRadarApp",["ngRoute"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("techRadarApp").value("localStorage",window.localStorage),angular.module("techRadarApp").factory("localStorageWatcher",["$log","$rootScope","localStorage",function(a,b,c){var d;return d=function(a,d){var e,f,g;return e=d?d:{},g=c[a],f=g?JSON.parse(g):e,b.$watch(function(){return f},function(){return c[a]=JSON.stringify(f),c[a]},!0),f},{syncWithLocalStorage:d}}]),angular.module("techRadarApp").constant("radarData",{title:"Javascript Technology Radar",data:[{label:"Adopt",text:"These items are proven and should be adopted for their intended usage. These items are recommended over their siblings in the same area.",categories:[{label:"Tools",technologies:[{label:"gulp",type:"Build System",text:"gulp is to grunt what gradle is to maven. You can program your build in JavaScript instead of only declaring how it should work. Furthermore it works with streams and is usually faster than grunt."},{label:"Webstorm",type:"IDE / Editor",text:"If you wan't to spend money for your IDE, spend it here. It has the best Javascript support with refactoring and autocomplete features."},{label:"eslint",type:"Linter / Codestyle",text:"Has a plugin architecture to include linters for framework specific code. E.g. for Angular or Ember. You can add your own ones. Also has codestyle checking ability. A slight performance penalty to jshint, since it builds an AST."},{label:"npm v2",type:"Package Managers",text:"Is bundled with Node.js v4 LTS. It is very stable and currently widly used."},{label:"bower",type:"Package Managers",text:"A frontend only package manager. Widly used and works without problems."},{label:"browsersync",type:"Live Reload",text:"Supports reloading of frontend js files and injecting of css. Additionally supports the synching of page interactions over multiple browsers and devices."}]},{label:"Techniques",technologies:[{label:"One-Click workspace setup",type:"Techniques",text:"Good to add new project members or updating the stack."},{label:"Infrastructure as code",type:"Techniques",text:"Reproducible system setup and scalable system setup. E.g. setup Integration, Test, and Poduction Systems fast and ensure their the same."},{label:"Application containers",type:"Techniques",text:"Application containers such as docker provide a simple reproducible deployment method."},{label:"Component structure",type:"Techniques",text:"Everthing that belongs to a component should be at the same location. E.g. html, js, css, routes, configuration."}]},{label:"Platforms & Languages",technologies:[{label:"Node.js v4",type:"Node Version",text:"This is the current LTS release. It will be maintainted until 2018. This realease merges iojs and Node.js again. Long term projects should stick with this release."},{label:"es6-babel",type:"Javascript Enhancers",text:"EcmaScript2015 (EcmaScript6) is the current javascript standard. So try it out now."},{label:"sass",type:"CSS Preprocessors",text:"Seams to be more widespread knowadays than LESS. Even bootstrap 4 is migration from LESS to sass."}]},{label:"Frameworks & Libraries",technologies:[{label:"bootstrap",type:"CSS Frameworks",text:"Works well. Very widly used. Lots of good supporting components and extenstions."},{label:"Angular 1",type:"Frontend Frameworks",text:"Huge community. Lots of documentation and modules"},{label:"Express",type:"Server Frameworks",text:"The nodejs web framework. Heavily used and feature rich."},{label:"lodash",type:"Functional Libraries",text:"A lot of (functional) goodies for working with arrays, collections, objects. It has some extensions over underscore, is modularized, and more actively developed than underscore."},{label:"winston",type:"Server Logging Libraries",text:"Supports different log formats, transports/streams/sinks, custom log levels, string interpolation."},{label:"morgan",type:"Server Logging Libraries",text:"Logs each request of express."},{label:"mongoose",type:"Database Libraries",text:"The most widly used way to interact with mongodb in Node.js."}]}]},{label:"Trial or Alternative",text:"To be used in smallscale projects. Or technolgies that have a better alternative for most use cases.",categories:[{label:"Tools",technologies:[{label:"grunt",type:"Build System",text:"gulp is just the better alternative. If you already are on grunt there is no immediate reason to switch to gulp, just consider it. If you haven't started with grunt, use gulp."},{label:"atom",type:"IDE / Editor",text:"Powerful editor, similar to sublime. Recommended as a free alternative."},{label:"Sublime",type:"IDE / Editor",text:"You can use it for free, but it will nag you constantly. So if you don't mind it, your okay here. But I recommended atom instead. If you wan't to pay for software consider Webstorm. It's in a similar price range, but has more refactoring and autocomplete features."},{label:"jshint",type:"Linter / Codestyle",text:"Configurable version of jslint. It's good, but consider migrating to eslint."},{label:"npm v3",type:"Package Managers",text:"It is still very new, but provides some advantages like a flat directory structure."},{label:"livereload",type:"Live Reload",text:"Works good, but browsersync has more features."},{label:"nodemon",type:"Live Reload",text:"Restart the node server on file changes. Watcher is known to be slow on windows."}]},{label:"Techniques",technologies:[]},{label:"Platforms & Languages",technologies:[{label:"Node.js v5",type:"Node Version",text:"This is a stable release but incooperates the latest changes. New versions are released very often. Use it only for prototypes, short-lived projects, or when you need the additional features it provides."},{label:"es6 native",type:"Javascript Enhancers",text:"EcmaScript2015 is supported to some extend by new Node.js versions. On the server side at least Node.js v4 is recommended. Sadly on the client side you can not force people to use new browser. So you need babel there. Thus you might want babel in the server aswell to support the same feature set of es6."},{label:"typescript",type:"Javascript Enhancers",text:"If you are missing types in Javascript, this is it. Otherwise give es6-babel a spin."},{label:"LESS",type:"CSS Preprocessors",text:"If you have a css framework that uses it, then use it, otherwise sass seams to be more widespread."}]},{label:"Frameworks & Libraries",technologies:[{label:"Ember",type:"Frontend Frameworks",text:"Good community. Good migration paths. Investigate it more."},{label:"underscore",type:"Functional Libraries",text:"The base lodash was forked from. Still active, but consider switching to lodash."},{label:"when",type:"Promise Libraries",text:"Covers a wide range of support for promises."}]}]},{label:"Assess",text:"Try these out.",categories:[{label:"Tools",technologies:[{label:"brackets",type:"IDE / Editor",text:"Interesting."},{label:"Visual Studio Code",type:"IDE / Editor",text:"Gains traction. Could be interesting for people that don't mind products from microsoft."},{label:"jscs",type:"Linter / Codestyle",text:"Only a style checker. Eslint might provide these features aswell."},{label:"browserify",type:"Package Managers",text:"A frontend package manager. Uses npm modules and turns them into frontend modules. Has certain build steps included, which might interfere with your custom build."},{label:"jspm",type:"Package Managers",text:"Interesting."},{label:"webpack",type:"Package Managers",text:"jspm might do the same but better."}]},{label:"Techniques",technologies:[]},{label:"Platforms & Languages",technologies:[{label:"ClojureScript",type:"Javascript Enhancers",text:"Intresting"}]},{label:"Frameworks & Libraries",technologies:[{label:"foundation",type:"CSS Frameworks",text:"Looks interesting."},{label:"iconic",type:"CSS Frameworks",text:"More mobile centric."},{label:"Angular 2",type:"Frontend Frameworks",text:"Still in developer preview. Could be used for small prototypes. Best used with typescript (or babel). ng-upgrade should cover the migration from Angular 1 to 2."},{label:"Aurelia",type:"Frontend Frameworks",text:"Interesting, but not wildly used right now."},{label:"React",type:"Frontend Frameworks",text:"Fast rendering. Glimmer of Ember or the upcomming Angular 2 might be an alternative."},{label:"Knockout",type:"Frontend Frameworks",text:"Angular, Ember, React seam to be more popular."},{label:"Restify",type:"Server Frameworks",text:"Can only be used to build Rest-Apis on nodejs. But if only this functionality is required, it might be viable."},{label:"lodash-fp",type:"Functional Libraries",text:"A wrapper for lodash to provide a function first syntax, which is truer to the functional style. Not very widespread."},{label:"ramda",type:"Functional Libraries",text:"Has a function first syntax, which is truer to the functional style."},{label:"trine",type:"Functional Libraries",text:"Depends on es6. Is very new."},{label:"bluebird",type:"Promise Libraries",text:"Looks nice. Similar to when."},{label:"async",type:"Promise Libraries",text:"Cleaner syntax but less mighty. Widespread use."},{label:"es6-promise",type:"Promise Libraries",text:"Polyfills es6 promises. But has no additional promise handling functionality."},{label:"RSVP.js",type:"Promise Libraries",text:"A small promise library."},{label:"bunyan",type:"Server Logging Libraries",text:"Json Logger. TODO assess"},{label:"Log4js",type:"Server Logging Libraries",text:"Some use it. TODO assess."},{label:"bookshelf.js",type:"Database Libraries",text:"An orm mapper fr sql."}]}]},{label:"Hold",text:"Don't start with it now. Try to actively replace.",categories:[{label:"Tools",technologies:[{label:"broccoli",type:"Build System",text:"To new and experimental to consider right now. But maybe in the future. Angular 2 uses it."},{label:"brunch",type:"Build System",text:"To exotic to consider."},{label:"Eclipse",type:"IDE / Editor",text:"Javasscript support is too bad right now. Coupled wit the slowness of Eclipse you're better off with a good editor."},{label:"jslint",type:"Linter / Codestyle",text:"Not configurable. Just replace it."},{label:"npm v1",type:"Package Managers",text:"v2 has more features and more stable. Usage will go down quickly."}]},{label:"Techniques",technologies:[{label:"Callbacks",type:"Techniques",text:"Use Promises they are much easier to process, chain and group."}]},{label:"Platforms & Languages",technologies:[{label:"Node.js v0.10",type:"Node Version",text:"You should slowly begin migrating to Nodejs v4 LTS. The upgrade should not be very work intensive. 0.10 will still be supported until October 2016."},{label:"Node.js v0.12",type:"Node Version",text:"Better just use node v4. I can't think of a reason not to upgrade."},{label:"io.js",type:"Node Version",text:"You should migrate to node v4."},{label:"es6-traceur",type:"Javascript Enhancers",text:"Better use babel. It produces more readable code and implements more features of es6."},{label:"Coffescript",type:"Javascript Enhancers",text:"Replaced by es6."},{label:"Google Dart",type:"Javascript Enhancers",text:"Failed to gain traction until now. Only supported by one company."},{label:"stylus",type:"CSS Preprocessors",text:"To exotic to be considered."},{label:"Plain CSS",type:"CSS Preprocessors",text:"You really should use a CSS preprocessor. You're gonna love it."}]},{label:"Frameworks & Libraries",technologies:[]}]}]}),angular.module("techRadarApp").factory("radarService",["radarData",function(a){function b(a,b){this.title=a||"Technology Radar",this.data=b?b:[{label:"Adopt",text:"Switch to these",categories:[{label:"Tools",technologies:[]},{label:"Techniques",technologies:[]},{label:"Platforms",technologies:[]},{label:"Languages & Frameworks",technologies:[]}]},{label:"Trial",categories:[{label:"Tools",technologies:[]},{label:"Techniques",technologies:[]},{label:"Platforms",technologies:[]},{label:"Languages & Frameworks",technologies:[]}]},{label:"Assess",categories:[{label:"Tools",technologies:[]},{label:"Techniques",technologies:[]},{label:"Platforms",technologies:[]},{label:"Languages & Frameworks",technologies:[]}]},{label:"Hold",text:"Don't start with it now. Try to replace.",categories:[{label:"Tools",technologies:[]},{label:"Techniques",technologies:[]},{label:"Platforms",technologies:[]},{label:"Languages & Frameworks",technologies:[]}]}],b.forEach(function(a){var b=_.flatten(_.pluck(_.flatten(a.categories),"technologies"));b.forEach(function(b){b.status=a.label})}),this.allCategories=_.flatten(_.pluck(b,"categories")),this.allTechnologies=_.flatten(_.pluck(this.allCategories,"technologies"))}function c(){var a=_.flatten(_.pluck(e.data,"categories"));return _.uniq(_.pluck(a,"label"))}function d(){return _.pluck(e.data,"label")}b.prototype.getTechnologies=function(){return this.allTechnologies},b.prototype.getCategories=function(){return this.allCategories},b.prototype.getTechnologiesOfSameType=function(a){return _.where(this.allTechnologies,{type:a.type})};var e=new b(a.title,a.data);return{radar:e,categories:c(),statuses:d()}}]),angular.module("techRadarApp").controller("MainCtrl",["$scope","$anchorScroll","$location","radarService",function(a,b,c,d){var e=d.radar;a.title=e.title,a.radarData=e.data,a.technologiesByType=_.groupBy(e.getTechnologies(),"type"),a.setActive=function(b){_.each(a.radarData,function(a){a.active=!1}),b.active=!0},a.setActive(a.radarData[0]),a.$on("tech-selected",function(b,c){a.activeTechnology=c,a.technologiesOfSameType=e.getTechnologiesOfSameType(c),a.setActive(a.activeStatus),$('.nav-tabs li a[data-label="'+a.activeStatus.label+'"]').tab("show")}),a.selectTech=function(b){var c=function(a){a.clicked=!1,a.active=!1,a.highlight=!1};e.getCategories().forEach(c),e.getTechnologies().forEach(c);var d=_.find(e.getCategories(),function(a){return _.indexOf(a.technologies,b)>=0});d.active=!0,b.clicked=!0,b.active=!0,a.activeTechnology=b,e.getTechnologiesOfSameType(b).forEach(function(a){a.highlight=!0}),f(a.radarData),a.technologiesOfSameType=e.getTechnologiesOfSameType(b)};var f=function(b){if(b){var c=_.findWhere(_.flatten(_.pluck(b,"categories")),{active:!0}),d=_.find(b,function(b){return _.indexOf(b.categories,a.activeCategory)>=0});c&&(a.activeCategory=c),d&&(a.activeStatus=d)}};a.$watch("radarData",f,!0),a.scrollTo=function(a){return a?void b(a):void $("html").scrollTop(0)}}]),angular.module("techRadarApp").directive("radarDiagram",["$log","radarService",function(a,b){return{restrict:"E",templateUrl:"views/radar.html",replace:!0,link:function(c,d,e){function f(a,b,c){function d(a,b){var c=(Math.PI*Math.pow(a,2)*Math.pow(e,2)-b)/Math.PI;return c>0?Math.sqrt(c):0}for(var e=1,f=Math.PI*Math.pow(a,2),g=f/b,h=b-1,i=a;h-- >c;)i=d(i,g);return Math.max(0,d(i,g))}function g(a){var c=.15*s,d=.045*s,e=!1;return _.each(b.radar.getTechnologies(),function(b){a!==b&&a.x&&a.y&&b.x&&b.y&&Math.abs(a.x-b.x)<c&&Math.abs(a.y-b.y)<d&&(e=!0)}),e}function h(a,b){var c=a.innerRadius+F,d=a.outerRadius-F,e=Math.random()*(d-c)+c,f=Math.atan(F/e),g=a.startAngle+f,h=a.endAngle-f,i=Math.random()*(h-g)+g;b.x=e*Math.cos(i-Math.PI/2),b.y=e*Math.sin(i-Math.PI/2)}function i(a){return a.length<=L?a:a.substring(0,L-1)+"..."}function j(){I=K.selectAll("g").data(function(a){return a.technologies},function(a){return a.label}),a.info("Redrawing");var d=I.enter().append("g").attr("class","tech-label").on("mouseover",function(a){a.active=!0,m()}).on("mouseout",function(a){a.clicked||(a.active=!1,m())}).on("click",function(a){var d=!a.clicked;d3.selectAll(".tech-label").each(function(a){a.active=!1,a.clicked=!1,a.highlight=!1}),a.active=d,a.clicked=d,b.radar.getTechnologiesOfSameType(a).forEach(function(a){a.highlight=d}),c.$broadcast("tech-selected",a),m()});d.append("text").datum(function(a){for(var b=d3.select(this.parentNode.parentNode).datum();!a.x||!a.y||g(a);)h(b.arc,a);return a}).text(function(a){return i(a.label)}).attr("x",function(a){return a.x+D+5}).attr("y",function(a){return a.y+3.5}),d.append("circle").attr("r",D).style("stroke","grey").style("fill","whitesmoke").attr("cx",function(a){return a.x}).attr("cy",function(a){return a.y}),I.exit().remove(),m(!0)}function k(a,b){return function(c){return 0===c?i(a):a.substring(0,Math.round((a.length-b)*c)+b)}}function l(a,b){return function(c){var d=c*(a.length-b);return 1===c?i(a):a.substring(0,a.length-d)}}function m(a){a||c.$apply(),I.each(function(a){d3.select(this).classed("active",a.active),d3.select(this).classed("highlight",a.highlight)}),I.selectAll("text").transition().duration(150).tween("text",function(a){var b=a.active?k:l,c=b(a.label,Math.min(this.textContent.length,L));return c(1)!==this.textContent?function(a){this.textContent=c(a)}:void 0}),I.selectAll("circle").transition().duration(500).attr("r",function(a){return a.active?E:a.radius?a.radius:D})}var n=b.categories.length,o=[];_(n).times(function(){o.push(100/n)});var p=e.width,q=e.height,r=30,s=Math.min(e.width,e.height)/2-r,t=d3.scale.category20c().domain(_.range(20)),u=d3.scale.category20c().copy(),v=_.groupBy(t.range(),function(a,b){return Math.floor(b/4)});u.range(_.flatten(_.map(v,function(a){var b=[];return _.each(a,function(a,c,d){b.push(a),c<d.length-1&&b.push(d3.interpolateRgb(a,d[c+1])(.5))}),b}))),u.domain(_.range(35));var w=d3.layout.pie().sort(null),x=w(o),y=_.object(_.zip(b.categories,x)),z=d3.svg.arc(),A=d3.select(d[0]).append("svg").attr("width",p).attr("height",q),B=A.append("g").attr("transform","translate("+(p/2-r)+","+(q/2-r)+")"),C=A.append("g").attr("transform","translate("+(p/2-r)+","+(q/2-r)+")"),D=5,E=7,F=10,G=B.selectAll("g").data(b.radar.data).enter().append("g").attr("class","ring"),H=G.selectAll("path").data(function(a){return a.categories}).enter().append("g").attr("class","slice");H.append("path").attr("fill",function(a,b,c){return u(7*b+c+3)}).attr("stroke","grey").attr("stroke-width","1px").attr("stroke-opacity",".25").datum(function(a,c,d){var e=_.size(b.statuses);return a.arc={innerRadius:f(s,e,d),outerRadius:d===e-1?s:f(s,e,d+1)},_.extend(a.arc,y[a.label]),a}).attr("d",function(a){return z.innerRadius(a.arc.innerRadius).outerRadius(a.arc.outerRadius)(a.arc)}).on("mouseover",function(a){a.active=!0,m()}).on("mouseout",function(a){a.active=!1,m()});var I,J=C.selectAll("g").data(b.radar.data).enter().append("g").attr("class","tech"),K=J.selectAll("g").data(function(a){return a.categories}).enter().append("g").datum(function(a,b){return a.color=u(7*b+6),a}).attr("class","category"),L=14;c.radarData=b.radar.data,c.$watch("radarData",function(){j()},!0),j()}}}]);